---
layout: post
title: iOS设计模式
category: iOS
tags: iOS iOS设计模式
keywords: iOS iOS设计模式
description: iOS iOS设计模式
---

设计模式的五大原则
1. 单一职责
（职责分离）在定义类、接口、方法后，不能多于一个动机去改变这个类、接口、方法。
2. 开闭原则
类、模块、方法可以扩展，但是不可以修改。开发人员应该仅仅对程序中频繁出现变化的地方进行抽象（封装变化点，继承的使用，抽象类的使用）。
3. 替换原则（is-a）
保证子类可以替换它的基类。
在项目中所有使用子类的地方都可用父类替换，但在调用方法的时候 ，即呈现面向对象编程的多态性。即替换原则，非常重要的原则，也是比较难的原则。
4. 依赖倒置原则
a、高层模块不应该依赖于低层模块。二者都应该依赖于抽象
　　b、抽象不应该依赖于细节。细节应该依赖于抽象。
5. 接口隔离原则
接口隔离的方法有两种（分享客户就是分离接口）：
1、使用委托（此委托非.net委托[delegate]）分离接口
使用委托即，创建一个委托类，用此类去实现分离后的其它接口中的方法。
2、使用多重继承分离接口、
此方法，即将现有“胖”接口分成供不同客户程序调用的两个或多个接口，而需要实现多个接口的客户程序，则使用多重继承来实现。


设计模式的类型：  


## 一、适配器模式
例子：不同的model数据，对应转化给view的一个特定model。

类适配器方法：
1.建一个抽象类的协议:cartAdapterProtocol
2、新定义一个类ModelAdapter遵循上面的协议，就是一个适配器model类。每一个输入类都需要新建一个对应的适配类。
3、用的时候创建ModelAdapter，用model初始化；
[CardView loadView：（id <adapterProtocol>）ModelAdapter];  

对象适配器：
1、就新建一个类适配所有不同的model；
根据传入不同model，isMemberOfClass 分别处理返回对应的modelData。

优缺点：
1、降低耦合度，提高复用维护
2、复杂了一点，降低了一点可读性。

## 二、策略模式  

例子：一个view中有很多textfield_custom，每个都需要添加输入验证合法性的方法，一般写会加很多if-else判断控件然后走对应的验证方式.  
使用策略的方式：  
1、先建一个抽象类validator，有一个之后需要重写的方法validateInput().
2、建个子类，重载父类的验证方法validateInput(). 如：EmailValidator, phoneValidator
3、textfield_custom中会添加一个属性：validator；初始化的时候这个属性赋值上对应的子类。
验证就直接调用：EmailTextfield.validator.validateInput();  

优缺点：
1、简化ifelse 代码维护性高
2、使用化之前就是确定的类型，不能动态判断  

## 三、观察者模式  

例子：   
1、
2、
3、

优缺点：
1、
2、


## 四、原型/外观  

例子：   
1、
2、
3、

优缺点：
1、
2、


## 五、装饰  

例子：   
1、
2、
3、

优缺点：
1、
2、


## 六、工厂  

例子：   
1、
2、
3、

优缺点：
1、
2、

## 七、桥接模式

例子：   
1、
2、
3、

优缺点：
1、
2、

## 八、代理  

例子：   
1、
2、
3、

优缺点：
1、
2、


## 九、单例模式  

例子：   
1、
2、
3、

优缺点：
1、
2、


## 十、备忘录  

例子：   
1、
2、
3、

优缺点：
1、
2、


## 十一、生成器  

例子：   
1、
2、
3、

优缺点：
1、
2、

## 十二、命令  

例子：   
1、
2、
3、

优缺点：
1、
2、

## 十三、组合  

例子：   
1、
2、
3、

优缺点：
1、
2、

## 十四、迭代器  

例子：   
1、
2、
3、

优缺点：
1、
2、



